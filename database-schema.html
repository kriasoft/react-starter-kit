<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Database Schema | React Starter Kit</title>
    <meta name="description" content="Production-ready monorepo for building fast web apps">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.BsP_Gi6M.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.142ab944.js"></script>
    <script type="module" src="/assets/app.omTd_k7Y.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BG0UCyTt.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CUWTb1PO.js">
    <link rel="modulepreload" href="/assets/database-schema.md.DeFBX5Hy.lean.js">
    <meta name="theme-color" content="#6366f1">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="React Starter Kit">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-8dfbb54d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-4e9cb457></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4e9cb457>Skip to content</a><!--]--><!----><header class="VPNav" data-v-8dfbb54d data-v-285b2884><div class="VPNavBar" data-v-285b2884 data-v-58628eff><div class="wrapper" data-v-58628eff><div class="container" data-v-58628eff><div class="title" data-v-58628eff><div class="VPNavBarTitle has-sidebar" data-v-58628eff data-v-3d63d7d0><a class="title" href="/" data-v-3d63d7d0><!--[--><!--]--><!----><span data-v-3d63d7d0>React Starter Kit</span><!--[--><!--]--></a></div></div><div class="content" data-v-58628eff><div class="content-body" data-v-58628eff><!--[--><!--]--><div class="VPNavBarSearch search" data-v-58628eff><!--[--><!----><div id="local-search"><button type="button" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-58628eff data-v-60a8cac0><span id="main-nav-aria-label" class="visually-hidden" data-v-60a8cac0> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-60a8cac0 data-v-81d7c1d0><!--[--><span data-v-81d7c1d0>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/getting-started" tabindex="0" data-v-60a8cac0 data-v-81d7c1d0><!--[--><span data-v-81d7c1d0>Docs</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-58628eff data-v-d0712604><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-d0712604 data-v-e3edf883 data-v-54bafeef><span class="check" data-v-54bafeef><span class="icon" data-v-54bafeef><!--[--><span class="vpi-sun sun" data-v-e3edf883></span><span class="vpi-moon moon" data-v-e3edf883></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-58628eff data-v-b0b3979c data-v-9fc17c10><!--[--><a class="VPSocialLink no-icon" href="https://chatgpt.com/g/g-69564f0a23088191846aa4072bd9397d-react-starter-kit-assistant" aria-label="Ask GPT" target="_blank" rel="me noopener" data-v-9fc17c10 data-v-0e2189f3><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08-4.778 2.758a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z" fill="currentColor"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/2nKEnKq" aria-label="discord" target="_blank" rel="me noopener" data-v-9fc17c10 data-v-0e2189f3><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://github.com/kriasoft/react-starter-kit" aria-label="github" target="_blank" rel="me noopener" data-v-9fc17c10 data-v-0e2189f3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-58628eff data-v-9b085815 data-v-95e9cd63><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-95e9cd63><span class="vpi-more-horizontal icon" data-v-95e9cd63></span></button><div class="menu" data-v-95e9cd63><div class="VPMenu" data-v-95e9cd63 data-v-160a1c44><!----><!--[--><!--[--><!----><div class="group" data-v-9b085815><div class="item appearance" data-v-9b085815><p class="label" data-v-9b085815>Appearance</p><div class="appearance-action" data-v-9b085815><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-9b085815 data-v-e3edf883 data-v-54bafeef><span class="check" data-v-54bafeef><span class="icon" data-v-54bafeef><!--[--><span class="vpi-sun sun" data-v-e3edf883></span><span class="vpi-moon moon" data-v-e3edf883></span><!--]--></span></span></button></div></div></div><div class="group" data-v-9b085815><div class="item social-links" data-v-9b085815><div class="VPSocialLinks social-links-list" data-v-9b085815 data-v-9fc17c10><!--[--><a class="VPSocialLink no-icon" href="https://chatgpt.com/g/g-69564f0a23088191846aa4072bd9397d-react-starter-kit-assistant" aria-label="Ask GPT" target="_blank" rel="me noopener" data-v-9fc17c10 data-v-0e2189f3><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08-4.778 2.758a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z" fill="currentColor"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/2nKEnKq" aria-label="discord" target="_blank" rel="me noopener" data-v-9fc17c10 data-v-0e2189f3><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://github.com/kriasoft/react-starter-kit" aria-label="github" target="_blank" rel="me noopener" data-v-9fc17c10 data-v-0e2189f3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="github-stats" data-v-e543e56f><a href="https://github.com/kriasoft/react-starter-kit/stargazers" class="stat-item" data-v-e543e56f><svg class="stat-icon" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-v-e543e56f><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.192L.644 6.57a.75.75 0 0 1 .416-1.28l4.21-.611L7.14.67A.75.75 0 0 1 8 .25Z" data-v-e543e56f></path></svg><span class="stat-count" data-v-e543e56f>23k</span></a><a href="https://github.com/kriasoft/react-starter-kit/forks" class="stat-item" data-v-e543e56f><svg class="stat-icon" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-v-e543e56f><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.5 0a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm-3.25 8a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z" data-v-e543e56f></path></svg><span class="stat-count" data-v-e543e56f>4.2k</span></a></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-58628eff data-v-19fd2f29><span class="container" data-v-19fd2f29><span class="top" data-v-19fd2f29></span><span class="middle" data-v-19fd2f29></span><span class="bottom" data-v-19fd2f29></span></span></button></div></div></div></div><div class="divider" data-v-58628eff><div class="divider-line" data-v-58628eff></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-8dfbb54d data-v-eac6f343><div class="container" data-v-eac6f343><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-eac6f343><span class="vpi-align-left menu-icon" data-v-eac6f343></span><span class="menu-text" data-v-eac6f343>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-eac6f343 data-v-7b0cc109><button data-v-7b0cc109>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-8dfbb54d data-v-d02a1d4e><div class="curtain" data-v-d02a1d4e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-d02a1d4e><span class="visually-hidden" id="sidebar-aria-label" data-v-d02a1d4e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-2a6507b0><section class="VPSidebarItem level-0 has-active" data-v-2a6507b0 data-v-0af9b267><div class="item" role="button" tabindex="0" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><h2 class="text" data-v-0af9b267>Documentation</h2><!----></div><div class="items" data-v-0af9b267><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/getting-started" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/ui-components" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>UI Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/database-schema" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>Database Schema</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/deployment" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>Deployment</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-2a6507b0><section class="VPSidebarItem level-0" data-v-2a6507b0 data-v-0af9b267><div class="item" role="button" tabindex="0" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><h2 class="text" data-v-0af9b267>Security</h2><!----></div><div class="items" data-v-0af9b267><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/security/checklist" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>Security Checklist</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/security/incident-playbook" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>Incident Playbook</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0af9b267 data-v-0af9b267><div class="item" data-v-0af9b267><div class="indicator" data-v-0af9b267></div><a class="VPLink link link" href="/security/SECURITY.template" data-v-0af9b267><!--[--><p class="text" data-v-0af9b267>Security Policy Template</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-8dfbb54d data-v-38e50cee><div class="VPDoc has-sidebar has-aside" data-v-38e50cee data-v-152651d0><!--[--><!--]--><div class="container" data-v-152651d0><div class="aside" data-v-152651d0><div class="aside-curtain" data-v-152651d0></div><div class="aside-container" data-v-152651d0><div class="aside-content" data-v-152651d0><div class="VPDocAside" data-v-152651d0 data-v-87da9238><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-87da9238 data-v-75d872cc><div class="content" data-v-75d872cc><div class="outline-marker" data-v-75d872cc></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-75d872cc>On this page</div><ul class="VPDocOutlineItem root" data-v-75d872cc data-v-abf72adb><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-87da9238></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-152651d0><div class="content-container" data-v-152651d0><!--[--><!--]--><main class="main" data-v-152651d0><div style="position:relative;" class="vp-doc _database-schema" data-v-152651d0><div><h1 id="database-schema" tabindex="-1">Database Schema <a class="header-anchor" href="#database-schema" aria-label="Permalink to “Database Schema”">​</a></h1><p>This document describes the database schema for your application. The schema provides a foundation for building multi-tenant SaaS applications with authentication, organizations, teams, and role-based access control.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to “Overview”">​</a></h2><p>The database uses:</p><ul><li><strong>Database Engine:</strong> Neon PostgreSQL with Cloudflare Hyperdrive for edge optimization</li><li><strong>ORM:</strong> Drizzle ORM for type-safe database operations</li><li><strong>Authentication:</strong> Built on <a href="https://www.better-auth.com/" target="_blank" rel="noreferrer">Better Auth</a> specification</li><li><strong>Connection Pooling:</strong> Cloudflare Hyperdrive provides connection pooling and caching at the edge</li></ul><h2 id="database-setup" tabindex="-1">Database Setup <a class="header-anchor" href="#database-setup" aria-label="Permalink to “Database Setup”">​</a></h2><h3 id="required-postgresql-extensions" tabindex="-1">Required PostgreSQL Extensions <a class="header-anchor" href="#required-postgresql-extensions" aria-label="Permalink to “Required PostgreSQL Extensions”">​</a></h3><p>Before running migrations or seeding data, you must install required PostgreSQL extensions. These are located in <code>db/scripts/setup-extensions.sql</code>:</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EXTENSION </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> EXISTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pg_uuidv7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>The <code>pg_uuidv7</code> extension provides UUIDv7 support for primary key generation. UUIDv7 combines the benefits of UUIDs with time-based sorting, making them ideal for distributed systems.</p><p><strong>All primary keys in the schema use <code>uuid_generate_v7()</code> as their default value</strong>, providing consistent, time-ordered identifiers across all tables.</p><h3 id="installation-process" tabindex="-1">Installation Process <a class="header-anchor" href="#installation-process" aria-label="Permalink to “Installation Process”">​</a></h3><p><strong>For Neon PostgreSQL (Production/Staging):</strong></p><ol><li>Connect to your Neon database using the SQL Editor in the Neon Console</li><li>Run the contents of <code>db/scripts/setup-extensions.sql</code></li><li>This requires elevated database permissions and must be done manually</li></ol><p><strong>For Local Development:</strong></p><p>If using a local PostgreSQL instance, you can install extensions via your database client:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Connect to your local database</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DATABASE_URL</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run the extension setup</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">\i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db/scripts/setup-extensions.sql</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Important</p><p>Extension installation requires superuser privileges and cannot be automated through normal database migrations. This step must be completed manually for each new database before running your application.</p></div><p>The schema is divided into two main sections:</p><ol><li><strong>Authentication tables</strong> - Required for user authentication and session management</li><li><strong>Application tables</strong> - For your specific business logic (organizations, teams, and your custom tables)</li></ol><div class="warning custom-block"><p class="custom-block-title">Important</p><p>The authentication tables follow <a href="https://www.better-auth.com/docs/concepts/database" target="_blank" rel="noreferrer">Better Auth&#39;s requirements</a>. Maintain compatibility when extending these tables.</p></div><h2 id="entity-relationship-diagram" tabindex="-1">Entity Relationship Diagram <a class="header-anchor" href="#entity-relationship-diagram" aria-label="Permalink to “Entity Relationship Diagram”">​</a></h2><div class="mermaid-wrapper" data-v-f9be653e><div class="mermaid-container" data-v-f9be653e></div><a href="https://mermaid.live/view#base64:eyJjb2RlIjoiZXJEaWFncmFtXG4gICAgJSUgQ29yZSBBdXRoZW50aWNhdGlvbiBUYWJsZXNcbiAgICB1c2VyIHtcbiAgICAgICAgdGV4dCBpZCBQSyBcIlVVSUR2NyBwcmltYXJ5IGtleVwiXG4gICAgICAgIHRleHQgbmFtZSBcIkZ1bGwgbmFtZVwiXG4gICAgICAgIHRleHQgZW1haWwgVUsgXCJFbWFpbCBhZGRyZXNzXCJcbiAgICAgICAgYm9vbGVhbiBlbWFpbF92ZXJpZmllZCBcIkVtYWlsIHZlcmlmaWNhdGlvbiBzdGF0dXNcIlxuICAgICAgICB0ZXh0IGltYWdlIFwiUHJvZmlsZSBpbWFnZSBVUkxcIlxuICAgICAgICBib29sZWFuIGlzX2Fub255bW91cyBcIkFub255bW91cyB1c2VyIGZsYWdcIlxuICAgICAgICB0aW1lc3RhbXAgY3JlYXRlZF9hdCBcIkFjY291bnQgY3JlYXRpb24gdGltZXN0YW1wXCJcbiAgICAgICAgdGltZXN0YW1wIHVwZGF0ZWRfYXQgXCJMYXN0IHVwZGF0ZSB0aW1lc3RhbXBcIlxuICAgIH1cblxuICAgIHNlc3Npb24ge1xuICAgICAgICB0ZXh0IGlkIFBLIFwiVVVJRHY3IHNlc3Npb24gSURcIlxuICAgICAgICB0aW1lc3RhbXAgZXhwaXJlc19hdCBcIlNlc3Npb24gZXhwaXJhdGlvblwiXG4gICAgICAgIHRleHQgdG9rZW4gVUsgXCJTZXNzaW9uIHRva2VuXCJcbiAgICAgICAgdGltZXN0YW1wIGNyZWF0ZWRfYXQgXCJDcmVhdGlvbiB0aW1lc3RhbXBcIlxuICAgICAgICB0aW1lc3RhbXAgdXBkYXRlZF9hdCBcIkxhc3QgdXBkYXRlIHRpbWVzdGFtcFwiXG4gICAgICAgIHRleHQgaXBfYWRkcmVzcyBcIkNsaWVudCBJUCBhZGRyZXNzXCJcbiAgICAgICAgdGV4dCB1c2VyX2FnZW50IFwiQ2xpZW50IHVzZXIgYWdlbnRcIlxuICAgICAgICB0ZXh0IHVzZXJfaWQgRksgXCJVc2VyIHJlZmVyZW5jZVwiXG4gICAgICAgIHRleHQgYWN0aXZlX29yZ2FuaXphdGlvbl9pZCBcIkN1cnJlbnQgb3JnYW5pemF0aW9uIGNvbnRleHRcIlxuICAgICAgICB0ZXh0IGFjdGl2ZV90ZWFtX2lkIFwiQ3VycmVudCB0ZWFtIGNvbnRleHRcIlxuICAgIH1cblxuICAgIGlkZW50aXR5IHtcbiAgICAgICAgdGV4dCBpZCBQSyBcIlVVSUR2NyBpZGVudGl0eSBJRFwiXG4gICAgICAgIHRleHQgYWNjb3VudF9pZCBcIlByb3ZpZGVyIGFjY291bnQgSURcIlxuICAgICAgICB0ZXh0IHByb3ZpZGVyX2lkIFwiT0F1dGggcHJvdmlkZXIgbmFtZVwiXG4gICAgICAgIHRleHQgdXNlcl9pZCBGSyBcIlVzZXIgcmVmZXJlbmNlXCJcbiAgICAgICAgdGV4dCBhY2Nlc3NfdG9rZW4gXCJPQXV0aCBhY2Nlc3MgdG9rZW5cIlxuICAgICAgICB0ZXh0IHJlZnJlc2hfdG9rZW4gXCJPQXV0aCByZWZyZXNoIHRva2VuXCJcbiAgICAgICAgdGV4dCBpZF90b2tlbiBcIk9BdXRoIElEIHRva2VuXCJcbiAgICAgICAgdGltZXN0YW1wIGFjY2Vzc190b2tlbl9leHBpcmVzX2F0IFwiQWNjZXNzIHRva2VuIGV4cGlyeVwiXG4gICAgICAgIHRpbWVzdGFtcCByZWZyZXNoX3Rva2VuX2V4cGlyZXNfYXQgXCJSZWZyZXNoIHRva2VuIGV4cGlyeVwiXG4gICAgICAgIHRleHQgc2NvcGUgXCJPQXV0aCBzY29wZXNcIlxuICAgICAgICB0ZXh0IHBhc3N3b3JkIFwiSGFzaGVkIHBhc3N3b3JkIGZvciBlbWFpbCBhdXRoXCJcbiAgICAgICAgdGltZXN0YW1wIGNyZWF0ZWRfYXQgXCJDcmVhdGlvbiB0aW1lc3RhbXBcIlxuICAgICAgICB0aW1lc3RhbXAgdXBkYXRlZF9hdCBcIkxhc3QgdXBkYXRlIHRpbWVzdGFtcFwiXG4gICAgfVxuXG4gICAgdmVyaWZpY2F0aW9uIHtcbiAgICAgICAgdGV4dCBpZCBQSyBcIlVVSUR2NyB2ZXJpZmljYXRpb24gSURcIlxuICAgICAgICB0ZXh0IGlkZW50aWZpZXIgXCJFbWFpbCBvciBvdGhlciBpZGVudGlmaWVyXCJcbiAgICAgICAgdGV4dCB2YWx1ZSBcIlZlcmlmaWNhdGlvbiBjb2RlL3Rva2VuXCJcbiAgICAgICAgdGltZXN0YW1wIGV4cGlyZXNfYXQgXCJFeHBpcmF0aW9uIHRpbWVzdGFtcFwiXG4gICAgICAgIHRpbWVzdGFtcCBjcmVhdGVkX2F0IFwiQ3JlYXRpb24gdGltZXN0YW1wXCJcbiAgICAgICAgdGltZXN0YW1wIHVwZGF0ZWRfYXQgXCJMYXN0IHVwZGF0ZSB0aW1lc3RhbXBcIlxuICAgIH1cblxuICAgICUlIE11bHRpLXRlbmFuY3kgVGFibGVzXG4gICAgb3JnYW5pemF0aW9uIHtcbiAgICAgICAgdGV4dCBpZCBQSyBcIlVVSUR2NyBvcmdhbml6YXRpb24gSURcIlxuICAgICAgICB0ZXh0IG5hbWUgXCJPcmdhbml6YXRpb24gbmFtZVwiXG4gICAgICAgIHRleHQgc2x1ZyBVSyBcIlVSTC1mcmllbmRseSBpZGVudGlmaWVyXCJcbiAgICAgICAgdGV4dCBsb2dvIFwiTG9nbyBVUkxcIlxuICAgICAgICB0ZXh0IG1ldGFkYXRhIFwiSlNPTiBtZXRhZGF0YVwiXG4gICAgICAgIHRpbWVzdGFtcCBjcmVhdGVkX2F0IFwiQ3JlYXRpb24gdGltZXN0YW1wXCJcbiAgICB9XG5cbiAgICBtZW1iZXIge1xuICAgICAgICB0ZXh0IGlkIFBLIFwiVVVJRHY3IG1lbWJlcnNoaXAgSURcIlxuICAgICAgICB0ZXh0IHVzZXJfaWQgRksgXCJVc2VyIHJlZmVyZW5jZVwiXG4gICAgICAgIHRleHQgb3JnYW5pemF0aW9uX2lkIEZLIFwiT3JnYW5pemF0aW9uIHJlZmVyZW5jZVwiXG4gICAgICAgIHRleHQgcm9sZSBcIk1lbWJlciByb2xlIChvd25lciwgYWRtaW4sIG1lbWJlcilcIlxuICAgICAgICB0aW1lc3RhbXAgY3JlYXRlZF9hdCBcIkpvaW4gdGltZXN0YW1wXCJcbiAgICB9XG5cbiAgICB0ZWFtIHtcbiAgICAgICAgdGV4dCBpZCBQSyBcIlVVSUR2NyB0ZWFtIElEXCJcbiAgICAgICAgdGV4dCBuYW1lIFwiVGVhbSBuYW1lXCJcbiAgICAgICAgdGV4dCBvcmdhbml6YXRpb25faWQgRksgXCJQYXJlbnQgb3JnYW5pemF0aW9uXCJcbiAgICAgICAgdGltZXN0YW1wIGNyZWF0ZWRfYXQgXCJDcmVhdGlvbiB0aW1lc3RhbXBcIlxuICAgICAgICB0aW1lc3RhbXAgdXBkYXRlZF9hdCBcIkxhc3QgdXBkYXRlIHRpbWVzdGFtcFwiXG4gICAgfVxuXG4gICAgdGVhbV9tZW1iZXIge1xuICAgICAgICB0ZXh0IGlkIFBLIFwiVVVJRHY3IHRlYW0gbWVtYmVyc2hpcCBJRFwiXG4gICAgICAgIHRleHQgdGVhbV9pZCBGSyBcIlRlYW0gcmVmZXJlbmNlXCJcbiAgICAgICAgdGV4dCB1c2VyX2lkIEZLIFwiVXNlciByZWZlcmVuY2VcIlxuICAgICAgICB0aW1lc3RhbXAgY3JlYXRlZF9hdCBcIkpvaW4gdGltZXN0YW1wXCJcbiAgICB9XG5cbiAgICBpbnZpdGF0aW9uIHtcbiAgICAgICAgdGV4dCBpZCBQSyBcIlVVSUR2NyBpbnZpdGF0aW9uIElEXCJcbiAgICAgICAgdGV4dCBlbWFpbCBcIkludml0ZWUgZW1haWxcIlxuICAgICAgICB0ZXh0IGludml0ZXJfaWQgRksgXCJJbnZpdGluZyB1c2VyXCJcbiAgICAgICAgdGV4dCBvcmdhbml6YXRpb25faWQgRksgXCJUYXJnZXQgb3JnYW5pemF0aW9uXCJcbiAgICAgICAgdGV4dCByb2xlIFwiSW52aXRlZCByb2xlXCJcbiAgICAgICAgdGV4dCBzdGF0dXMgXCJJbnZpdGF0aW9uIHN0YXR1c1wiXG4gICAgICAgIHRleHQgdGVhbV9pZCBGSyBcIlRhcmdldCB0ZWFtIChvcHRpb25hbClcIlxuICAgICAgICB0aW1lc3RhbXAgZXhwaXJlc19hdCBcIkV4cGlyYXRpb24gdGltZXN0YW1wXCJcbiAgICAgICAgdGltZXN0YW1wIGNyZWF0ZWRfYXQgXCJDcmVhdGlvbiB0aW1lc3RhbXBcIlxuICAgIH1cblxuICAgICUlIFJlbGF0aW9uc2hpcHNcbiAgICB1c2VyIHx8LS1veyBzZXNzaW9uIDogXCJoYXNcIlxuICAgIHVzZXIgfHwtLW97IGlkZW50aXR5IDogXCJhdXRoZW50aWNhdGVzIHdpdGhcIlxuICAgIHVzZXIgfHwtLW97IG1lbWJlciA6IFwiYmVsb25ncyB0b1wiXG4gICAgdXNlciB8fC0tb3sgdGVhbV9tZW1iZXIgOiBcIm1lbWJlciBvZlwiXG4gICAgdXNlciB8fC0tb3sgaW52aXRhdGlvbiA6IFwiaW52aXRlZCBieVwiXG5cbiAgICBvcmdhbml6YXRpb24gfHwtLW97IG1lbWJlciA6IFwiaGFzIG1lbWJlcnNcIlxuICAgIG9yZ2FuaXphdGlvbiB8fC0tb3sgdGVhbSA6IFwiY29udGFpbnNcIlxuICAgIG9yZ2FuaXphdGlvbiB8fC0tb3sgaW52aXRhdGlvbiA6IFwicmVjZWl2ZXNcIlxuXG4gICAgdGVhbSB8fC0tb3sgdGVhbV9tZW1iZXIgOiBcImhhcyBtZW1iZXJzXCJcbiAgICB0ZWFtIHx8LS1veyBpbnZpdGF0aW9uIDogXCJpbnZpdGVzIHRvXCIiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9fQ==" target="_blank" rel="noopener" class="fullscreen-link" title="Open in fullscreen" data-v-f9be653e><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-f9be653e><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7" data-v-f9be653e></path></svg></a></div><h2 id="authentication-tables" tabindex="-1">Authentication Tables <a class="header-anchor" href="#authentication-tables" aria-label="Permalink to “Authentication Tables”">​</a></h2><p>These tables handle user authentication and are based on the Better Auth specification. They form the foundation of your application&#39;s security layer.</p><h3 id="core-tables" tabindex="-1">Core Tables <a class="header-anchor" href="#core-tables" aria-label="Permalink to “Core Tables”">​</a></h3><h4 id="user-table" tabindex="-1"><code>user</code> Table <a class="header-anchor" href="#user-table" aria-label="Permalink to “user Table”">​</a></h4><p>Central table for all user accounts in your application.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th><th>Required</th><th>Constraints</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Primary key (UUIDv7)</td><td>Yes</td><td>PRIMARY KEY, DEFAULT uuid_generate_v7()</td></tr><tr><td><code>name</code></td><td>TEXT</td><td>User&#39;s display name</td><td>Yes</td><td></td></tr><tr><td><code>email</code></td><td>TEXT</td><td>Email address</td><td>Yes</td><td>UNIQUE</td></tr><tr><td><code>email_verified</code></td><td>BOOLEAN</td><td>Email verification status</td><td>Yes</td><td>DEFAULT false</td></tr><tr><td><code>image</code></td><td>TEXT</td><td>Profile image URL</td><td>No</td><td></td></tr><tr><td><code>is_anonymous</code></td><td>BOOLEAN</td><td>Anonymous user flag</td><td>Yes</td><td>DEFAULT false</td></tr><tr><td><code>created_at</code></td><td>TIMESTAMP</td><td>Account creation time</td><td>Yes</td><td>DEFAULT now()</td></tr><tr><td><code>updated_at</code></td><td>TIMESTAMP</td><td>Last modification time</td><td>Yes</td><td>DEFAULT now(), auto-update</td></tr></tbody></table><details class="details custom-block"><summary>TypeScript Schema Definition</summary><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pgTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">primaryKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`uuid_generate_v7()`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  email: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unique</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  emailVerified: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;email_verified&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$defaultFn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  image: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isAnonymous: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;is_anonymous&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdAt: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { withTimezone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaultNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  updatedAt: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updated_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { withTimezone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaultNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$onUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></details><h4 id="session-table" tabindex="-1"><code>session</code> Table <a class="header-anchor" href="#session-table" aria-label="Permalink to “session Table”">​</a></h4><p>Manages active user sessions with device tracking and organization context.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Session identifier</td><td>Yes</td></tr><tr><td><code>expires_at</code></td><td>TIMESTAMP</td><td>Session expiration time</td><td>Yes</td></tr><tr><td><code>token</code></td><td>TEXT</td><td>Unique session token</td><td>Yes</td></tr><tr><td><code>user_id</code></td><td>TEXT</td><td>Reference to user</td><td>Yes</td></tr><tr><td><code>ip_address</code></td><td>TEXT</td><td>Client IP for security</td><td>No</td></tr><tr><td><code>user_agent</code></td><td>TEXT</td><td>Browser/client info</td><td>No</td></tr><tr><td><code>active_organization_id</code></td><td>TEXT</td><td>Current org context</td><td>No</td></tr><tr><td><code>active_team_id</code></td><td>TEXT</td><td>Current team context</td><td>No</td></tr></tbody></table><h4 id="identity-table" tabindex="-1"><code>identity</code> Table <a class="header-anchor" href="#identity-table" aria-label="Permalink to “identity Table”">​</a></h4><p>Handles authentication credentials for both OAuth providers and email/password.</p><div class="info custom-block"><p class="custom-block-title custom-block-title-default">INFO</p><p>This table is named <code>identity</code> in our schema but maps to Better Auth&#39;s <code>account</code> table.</p></div><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Identity record ID</td><td>Yes</td></tr><tr><td><code>account_id</code></td><td>TEXT</td><td>Provider-specific account ID</td><td>Yes</td></tr><tr><td><code>provider_id</code></td><td>TEXT</td><td>Provider name (google, email, etc.)</td><td>Yes</td></tr><tr><td><code>user_id</code></td><td>TEXT</td><td>Reference to user</td><td>Yes</td></tr><tr><td><code>password</code></td><td>TEXT</td><td>Hashed password (email provider only)</td><td>No</td></tr><tr><td>OAuth token fields...</td><td>TEXT/TIMESTAMP</td><td>Various OAuth tokens and expiries</td><td>No</td></tr></tbody></table><h4 id="verification-table" tabindex="-1"><code>verification</code> Table <a class="header-anchor" href="#verification-table" aria-label="Permalink to “verification Table”">​</a></h4><p>Manages email verification, password resets, and other verification flows.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Verification ID</td><td>Yes</td></tr><tr><td><code>identifier</code></td><td>TEXT</td><td>Email or identifier to verify</td><td>Yes</td></tr><tr><td><code>value</code></td><td>TEXT</td><td>Verification code/token</td><td>Yes</td></tr><tr><td><code>expires_at</code></td><td>TIMESTAMP</td><td>Code expiration</td><td>Yes</td></tr></tbody></table><h2 id="application-tables" tabindex="-1">Application Tables <a class="header-anchor" href="#application-tables" aria-label="Permalink to “Application Tables”">​</a></h2><p>These tables implement the multi-tenant architecture with organizations and teams. They integrate with the authentication layer through Better Auth&#39;s <a href="https://www.better-auth.com/docs/plugins/organization" target="_blank" rel="noreferrer">organization</a> and <a href="https://www.better-auth.com/docs/plugins/teams" target="_blank" rel="noreferrer">teams</a> plugins.</p><h3 id="organization-table" tabindex="-1"><code>organization</code> Table <a class="header-anchor" href="#organization-table" aria-label="Permalink to “organization Table”">​</a></h3><p>Represents a tenant/company/workspace in your application. This is the primary grouping mechanism for multi-tenancy.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Organization ID</td></tr><tr><td><code>name</code></td><td>TEXT</td><td>Display name</td></tr><tr><td><code>slug</code></td><td>TEXT</td><td>URL-friendly identifier (unique)</td></tr><tr><td><code>logo</code></td><td>TEXT</td><td>Logo image URL</td></tr><tr><td><code>metadata</code></td><td>TEXT</td><td>JSON for custom fields</td></tr></tbody></table><h3 id="member-table" tabindex="-1"><code>member</code> Table <a class="header-anchor" href="#member-table" aria-label="Permalink to “member Table”">​</a></h3><p>Defines the relationship between users and organizations, including their role within each organization.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Membership ID</td></tr><tr><td><code>user_id</code></td><td>TEXT</td><td>Reference to user</td></tr><tr><td><code>organization_id</code></td><td>TEXT</td><td>Reference to organization</td></tr><tr><td><code>role</code></td><td>TEXT</td><td>Role (owner, admin, member)</td></tr></tbody></table><h3 id="team-table" tabindex="-1"><code>team</code> Table <a class="header-anchor" href="#team-table" aria-label="Permalink to “team Table”">​</a></h3><p>Optional subgroups within organizations. Use teams when you need more granular permissions beyond organization-level roles.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Team ID</td></tr><tr><td><code>name</code></td><td>TEXT</td><td>Team name</td></tr><tr><td><code>organization_id</code></td><td>TEXT</td><td>Parent organization</td></tr></tbody></table><h3 id="invitation-table" tabindex="-1"><code>invitation</code> Table <a class="header-anchor" href="#invitation-table" aria-label="Permalink to “invitation Table”">​</a></h3><p>Tracks pending invitations. Users can be invited to join organizations with specific roles, and optionally assigned to teams.</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>TEXT</td><td>Invitation ID</td></tr><tr><td><code>email</code></td><td>TEXT</td><td>Invitee&#39;s email</td></tr><tr><td><code>inviter_id</code></td><td>TEXT</td><td>User who sent invitation</td></tr><tr><td><code>organization_id</code></td><td>TEXT</td><td>Target organization</td></tr><tr><td><code>role</code></td><td>TEXT</td><td>Invited role</td></tr><tr><td><code>status</code></td><td>TEXT</td><td>pending, accepted, expired</td></tr><tr><td><code>team_id</code></td><td>TEXT</td><td>Target team (optional)</td></tr><tr><td><code>expires_at</code></td><td>TIMESTAMP</td><td>Invitation expiry</td></tr></tbody></table><h2 id="extending-the-schema" tabindex="-1">Extending the Schema <a class="header-anchor" href="#extending-the-schema" aria-label="Permalink to “Extending the Schema”">​</a></h2><h3 id="adding-your-own-tables" tabindex="-1">Adding Your Own Tables <a class="header-anchor" href="#adding-your-own-tables" aria-label="Permalink to “Adding Your Own Tables”">​</a></h3><p>As you build your application, you&#39;ll add tables specific to your domain. Here&#39;s the recommended approach:</p><ol><li>Create a new schema file in <code>db/schema/</code> for each logical group:</li></ol><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// db/schema/product.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> product</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pgTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;product&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">primaryKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  description: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  price: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;price&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Store in cents</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  organizationId: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;organization_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> organization.id),</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdBy: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_by&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.id),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdAt: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    withTimezone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaultNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><ol start="2"><li>Add relations for better querying:</li></ol><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> productRelations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> relations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(product, ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">one</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  organization: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">one</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(organization, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fields: [product.organizationId],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    references: [organization.id],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  creator: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">one</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fields: [product.createdBy],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    references: [user.id],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}));</span></span></code></pre></div><ol start="3"><li>Export from <code>db/schema/index.ts</code> and generate migrations</li></ol><h3 id="extending-existing-tables" tabindex="-1">Extending Existing Tables <a class="header-anchor" href="#extending-existing-tables" aria-label="Permalink to “Extending Existing Tables”">​</a></h3><p>To add fields to existing tables (like adding custom user fields):</p><ol><li>Update the schema file:</li></ol><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// db/schema/user.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pgTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... existing fields ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Your custom fields</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  phoneNumber: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;phone_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  preferences: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preferences&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// JSON string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tier: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tier&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;free&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><ol start="2"><li>For authentication tables, update Better Auth configuration:</li></ol><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>When adding fields to authentication tables, always update the Better Auth configuration to ensure proper data handling.</p></div><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">betterAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  user: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    additionalFields: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      phoneNumber: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, required: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      preferences: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, required: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      tier: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, required: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><ol start="3"><li>Generate and apply migrations:</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @repo/db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-custom-fields</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @repo/db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # or, bun --filter @repo/db push</span></span></code></pre></div><h2 id="database-seeding" tabindex="-1">Database Seeding <a class="header-anchor" href="#database-seeding" aria-label="Permalink to “Database Seeding”">​</a></h2><p>The project includes a seeding system for populating your database with test data during development.</p><h3 id="seed-scripts" tabindex="-1">Seed Scripts <a class="header-anchor" href="#seed-scripts" aria-label="Permalink to “Seed Scripts”">​</a></h3><p>Seed scripts are located in <code>db/seeds/</code> and organized by entity type:</p><ul><li><code>db/seeds/users.ts</code> - Creates test user accounts with realistic data</li><li>Add your own seed files following the same pattern</li></ul><h3 id="running-seeds" tabindex="-1">Running Seeds <a class="header-anchor" href="#running-seeds" aria-label="Permalink to “Running Seeds”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Seed development database</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @repo/db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Seed specific environments</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @repo/db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed:staging</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @repo/db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed:prod</span></span></code></pre></div><h3 id="creating-custom-seeds" tabindex="-1">Creating Custom Seeds <a class="header-anchor" href="#creating-custom-seeds" aria-label="Permalink to “Creating Custom Seeds”">​</a></h3><p>Follow this pattern when creating new seed files:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// db/seeds/products.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PostgresJsDatabase } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;drizzle-orm/postgres-js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { schema </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Db } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> seedProducts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PostgresJsDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Db&gt;) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Seeding products...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> products</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Example Product&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2999</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, organizationId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... more test data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> product</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> products) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Db.product).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(product).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onConflictDoNothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`✅ Seeded ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">products</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} products`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Then add your seed function to <code>db/scripts/seed.ts</code>:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { seedProducts } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../seeds/products&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In the main seeding function:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> seedUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(db);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> seedProducts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(db);</span></span></code></pre></div><h3 id="seed-data-guidelines" tabindex="-1">Seed Data Guidelines <a class="header-anchor" href="#seed-data-guidelines" aria-label="Permalink to “Seed Data Guidelines”">​</a></h3><ul><li>Use realistic but obviously fake data (example.com emails, etc.)</li><li>Include <code>onConflictDoNothing()</code> to allow re-running seeds safely</li><li>Provide variety in your test data (verified/unverified users, different roles, etc.)</li><li>Keep seed data small but representative of real usage patterns</li></ul><details class="details custom-block"><summary>Important: Schema Compatibility</summary><p>When extending authentication tables, ensure your changes don&#39;t break Better Auth&#39;s expected schema. Always test authentication flows after making changes.</p></details><h3 id="role-based-access-control" tabindex="-1">Role-Based Access Control <a class="header-anchor" href="#role-based-access-control" aria-label="Permalink to “Role-Based Access Control”">​</a></h3><p>Implement RBAC using the member roles:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check if user is organization admin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> membership</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query.member.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  where: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(member.userId, userId),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(member.organizationId, orgId),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(member.role, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get all teams user belongs to</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> teams</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query.teamMember.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  where: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(teamMember.userId, userId),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  with: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    team: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="common-query-patterns" tabindex="-1">Common Query Patterns <a class="header-anchor" href="#common-query-patterns" aria-label="Permalink to “Common Query Patterns”">​</a></h2><h3 id="multi-tenant-queries" tabindex="-1">Multi-tenant Queries <a class="header-anchor" href="#multi-tenant-queries" aria-label="Permalink to “Multi-tenant Queries”">​</a></h3><p>Always scope queries to the current organization:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get all products for the current organization</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> products</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query.product.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  where: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(product.organizationId, session.activeOrganizationId),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  with: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    creator: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      columns: { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, email: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="user-organization-access" tabindex="-1">User Organization Access <a class="header-anchor" href="#user-organization-access" aria-label="Permalink to “User Organization Access”">​</a></h3><p>Check user&#39;s access to resources:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Verify user has access to organization</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> membership</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query.member.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  where: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(member.userId, userId), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(member.organizationId, orgId)),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">membership) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Access denied&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="complex-relationships" tabindex="-1">Complex Relationships <a class="header-anchor" href="#complex-relationships" aria-label="Permalink to “Complex Relationships”">​</a></h3><p>Load nested relationships efficiently:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get organization with all members and their teams</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> org</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.query.organization.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  where: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(organization.id, orgId),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  with: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    members: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      with: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        user: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    teams: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      with: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        members: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          with: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            user: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to “Best Practices”">​</a></h2><h3 id="security-considerations" tabindex="-1">Security Considerations <a class="header-anchor" href="#security-considerations" aria-label="Permalink to “Security Considerations”">​</a></h3><div class="danger custom-block"><p class="custom-block-title">Security Critical</p><ul><li><strong>Never expose sensitive tokens</strong>: Access tokens, refresh tokens, and passwords should never be sent to the client</li><li><strong>Validate organization context</strong>: Always verify user has access to the organization they&#39;re trying to access</li><li><strong>Use parameterized queries</strong>: Drizzle ORM handles this automatically</li><li><strong>Implement rate limiting</strong>: Especially for invitation endpoints</li></ul></div><h3 id="performance-tips" tabindex="-1">Performance Tips <a class="header-anchor" href="#performance-tips" aria-label="Permalink to “Performance Tips”">​</a></h3><div class="tip custom-block"><p class="custom-block-title">Optimization Guidelines</p><ul><li><strong>Index frequently queried fields</strong>: Email, slug, and foreign keys are already indexed in PostgreSQL</li><li><strong>Use relations for complex queries</strong>: Drizzle&#39;s <code>with</code> clause is more efficient than multiple queries</li><li><strong>Batch operations when possible</strong>: Use <code>db.insert().values([...])</code> for bulk inserts</li><li><strong>Limit data fetching</strong>: Only select columns you need using the <code>columns</code> option</li><li><strong>Leverage Hyperdrive</strong>: Connection pooling and caching reduce latency at the edge</li></ul></div><h3 id="design-patterns" tabindex="-1">Design Patterns <a class="header-anchor" href="#design-patterns" aria-label="Permalink to “Design Patterns”">​</a></h3><h4 id="multi-tenant-data-isolation" tabindex="-1">Multi-tenant Data Isolation <a class="header-anchor" href="#multi-tenant-data-isolation" aria-label="Permalink to “Multi-tenant Data Isolation”">​</a></h4><p>Every table that contains user data should reference an organization:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Always include organizationId in your tables</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> yourTable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pgTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your_table&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">primaryKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  organizationId: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;organization_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> organization.id),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... other fields</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Always filter by organization in queries</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(yourTable.organizationId, currentOrgId);</span></span></code></pre></div><h4 id="soft-deletes" tabindex="-1">Soft Deletes <a class="header-anchor" href="#soft-deletes" aria-label="Permalink to “Soft Deletes”">​</a></h4><p>Preserve data integrity by marking records as deleted:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add to your schema</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deletedAt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deleted_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { withTimezone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Filter out deleted records</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(table.deletedAt),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Soft delete</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(yourTable)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ deletedAt: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(yourTable.id, recordId));</span></span></code></pre></div><h4 id="audit-fields" tabindex="-1">Audit Fields <a class="header-anchor" href="#audit-fields" aria-label="Permalink to “Audit Fields”">​</a></h4><p>Track who created/updated records:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createdBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_by&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.id),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updatedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updated_by&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.id),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createdAt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { withTimezone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaultNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updatedAt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updated_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { withTimezone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaultNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$onUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span></code></pre></div><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to “Next Steps”">​</a></h2><ol><li>Add your domain-specific tables in <code>db/schema/</code></li><li>Configure authentication providers in <code>api/lib/auth.ts</code></li><li>Set up database backups for production deployments</li><li>Implement proper access control in your API endpoints</li></ol><h2 id="additional-resources" tabindex="-1">Additional Resources <a class="header-anchor" href="#additional-resources" aria-label="Permalink to “Additional Resources”">​</a></h2><ul><li><a href="https://www.better-auth.com/docs" target="_blank" rel="noreferrer">Better Auth Documentation</a> - Authentication flows and plugins</li><li><a href="https://orm.drizzle.team/" target="_blank" rel="noreferrer">Drizzle ORM Documentation</a> - Database queries and migrations</li><li><a href="https://neon.tech/docs" target="_blank" rel="noreferrer">Neon PostgreSQL Documentation</a> - Database deployment and optimization</li><li><a href="https://developers.cloudflare.com/hyperdrive/" target="_blank" rel="noreferrer">Cloudflare Hyperdrive Documentation</a> - Connection pooling and edge optimization</li></ul></div></div></main><footer class="VPDocFooter" data-v-152651d0 data-v-6984ab02><!--[--><!--]--><div class="edit-info" data-v-6984ab02><div class="edit-link" data-v-6984ab02><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/kriasoft/react-starter-kit/edit/main/docs/database-schema.md" target="_blank" rel="noreferrer" data-v-6984ab02><!--[--><span class="vpi-square-pen edit-link-icon" data-v-6984ab02></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-6984ab02><p class="VPLastUpdated" data-v-6984ab02 data-v-50e91637>Last updated: <time datetime="2025-08-03T21:57:46.000Z" data-v-50e91637></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-6984ab02><span class="visually-hidden" id="doc-footer-aria-label" data-v-6984ab02>Pager</span><div class="pager" data-v-6984ab02><a class="VPLink link pager-link prev" href="/ui-components" data-v-6984ab02><!--[--><span class="desc" data-v-6984ab02>Previous page</span><span class="title" data-v-6984ab02>UI Components</span><!--]--></a></div><div class="pager" data-v-6984ab02><a class="VPLink link pager-link next" href="/deployment" data-v-6984ab02><!--[--><span class="desc" data-v-6984ab02>Next page</span><span class="title" data-v-6984ab02>Deployment</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-8dfbb54d data-v-f437f5df><div class="container" data-v-f437f5df><p class="message" data-v-f437f5df>Released under the MIT License.</p><p class="copyright" data-v-f437f5df>Copyright © 2014-present Kriasoft</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>