import{_ as e,c as s,o as i,a6 as t}from"./chunks/framework.C7CfgHXo.js";const k=JSON.parse('{"title":"Project Structure","description":"","frontmatter":{"outline":[2,3]},"headers":[],"relativePath":"getting-started/project-structure.md","filePath":"getting-started/project-structure.md","lastUpdated":1771429567000}'),r={name:"getting-started/project-structure.md"};function n(p,a,o,d,l,h){return i(),s("div",null,[...a[0]||(a[0]=[t(`<h1 id="project-structure" tabindex="-1">Project Structure <a class="header-anchor" href="#project-structure" aria-label="Permalink to “Project Structure”">​</a></h1><p>The project is a Bun monorepo with four applications, shared packages, a database workspace, and infrastructure configuration.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">my-app/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> web/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # Edge router + Astro marketing site</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # React 19 SPA (TanStack Router)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # Hono + tRPC API server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> email/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # React Email templates</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ui/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # shadcn/ui component library</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # Shared utilities</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ws-protocol/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # WebSocket protocol template</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> typescript-config/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Shared tsconfig presets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                # Drizzle ORM schemas and migrations</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> infra/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">             # Terraform (Cloudflare Workers, DNS)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              # Documentation (VitePress)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scripts/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # Build and utility scripts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package.json</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # Monorepo root</span></span></code></pre></div><h2 id="applications" tabindex="-1">Applications <a class="header-anchor" href="#applications" aria-label="Permalink to “Applications”">​</a></h2><h3 id="apps-web-–-edge-router" tabindex="-1"><code>apps/web</code> – Edge Router <a class="header-anchor" href="#apps-web-–-edge-router" aria-label="Permalink to “apps/web – Edge Router”">​</a></h3><p>Cloudflare Worker that serves as the public-facing entry point. Routes <code>/api/*</code> to the API worker and app routes (<code>/login</code>, <code>/settings</code>, etc.) to the app worker via <a href="https://developers.cloudflare.com/workers/runtime-apis/bindings/service-bindings/" target="_blank" rel="noreferrer">service bindings</a>. Also serves the Astro-built marketing site for unauthenticated visitors. Uses an <a href="/adr/001-auth-hint-cookie">auth hint cookie</a> to decide whether <code>/</code> shows the app or the landing page.</p><h3 id="apps-app-–-frontend-spa" tabindex="-1"><code>apps/app</code> – Frontend SPA <a class="header-anchor" href="#apps-app-–-frontend-spa" aria-label="Permalink to “apps/app – Frontend SPA”">​</a></h3><p>React 19 single-page application built with Vite. Uses TanStack Router for file-based routing (<code>apps/app/routes/</code>), TanStack Query for server state, Jotai for client state, and shadcn/ui components. Deployed as a Cloudflare Worker with static assets.</p><h3 id="apps-api-–-api-server" tabindex="-1"><code>apps/api</code> – API Server <a class="header-anchor" href="#apps-api-–-api-server" aria-label="Permalink to “apps/api – API Server”">​</a></h3><p>Cloudflare Worker running <a href="https://hono.dev" target="_blank" rel="noreferrer">Hono</a> for HTTP routing and <a href="https://trpc.io" target="_blank" rel="noreferrer">tRPC</a> for type-safe RPC. Handles authentication (Better Auth), database queries (Drizzle ORM via Hyperdrive), and Stripe webhooks. Has <code>nodejs_compat</code> enabled – the other workers do not.</p><h3 id="apps-email-–-email-templates" tabindex="-1"><code>apps/email</code> – Email Templates <a class="header-anchor" href="#apps-email-–-email-templates" aria-label="Permalink to “apps/email – Email Templates”">​</a></h3><p><a href="https://react.email" target="_blank" rel="noreferrer">React Email</a> templates used for OTP codes, invitations, and transactional emails. Built before the API dev server starts so templates are available at runtime. Preview with <code>bun email:dev</code>.</p><h2 id="packages" tabindex="-1">Packages <a class="header-anchor" href="#packages" aria-label="Permalink to “Packages”">​</a></h2><table tabindex="0"><thead><tr><th>Package</th><th>Description</th></tr></thead><tbody><tr><td><code>packages/ui</code></td><td><a href="https://ui.shadcn.com" target="_blank" rel="noreferrer">shadcn/ui</a> components (new-york style) with Tailwind CSS v4. Add components with <code>bun ui:add &lt;name&gt;</code>.</td></tr><tr><td><code>packages/core</code></td><td>Shared utilities and constants used across apps.</td></tr><tr><td><code>packages/ws-protocol</code></td><td>WebSocket message protocol template for real-time features.</td></tr><tr><td><code>packages/typescript-config</code></td><td>Shared <code>tsconfig.json</code> presets for consistent compiler settings.</td></tr></tbody></table><h2 id="database-workspace" tabindex="-1">Database Workspace <a class="header-anchor" href="#database-workspace" aria-label="Permalink to “Database Workspace”">​</a></h2><p>The <code>db/</code> workspace contains Drizzle ORM table definitions (<code>db/schema/</code>), migration files (<code>db/migrations/</code>), and seed scripts (<code>db/seeds/</code>). It targets Neon PostgreSQL with Cloudflare Hyperdrive for connection pooling.</p><p>See <a href="/database/">Database Overview</a> for details.</p><h2 id="key-configuration-files" tabindex="-1">Key Configuration Files <a class="header-anchor" href="#key-configuration-files" aria-label="Permalink to “Key Configuration Files”">​</a></h2><table tabindex="0"><thead><tr><th>File</th><th>Purpose</th></tr></thead><tbody><tr><td><code>infra/</code></td><td>Terraform modules for Cloudflare resources</td></tr><tr><td><code>apps/*/wrangler.jsonc</code></td><td>Cloudflare Worker configuration per app</td></tr><tr><td><code>db/drizzle.config.ts</code></td><td>Drizzle ORM migration configuration</td></tr><tr><td><code>.env</code></td><td>Shared environment defaults (committed to git)</td></tr><tr><td><code>.env.local</code></td><td>Local secrets and overrides (git-ignored)</td></tr><tr><td><code>tsconfig.json</code></td><td>Root TypeScript project references</td></tr><tr><td><code>package.json</code></td><td>Monorepo root – workspaces, scripts, dev dependencies</td></tr></tbody></table>`,19)])])}const g=e(r,[["render",n]]);export{k as __pageData,g as default};
